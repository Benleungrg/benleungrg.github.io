<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    

    
<script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("use-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script>
    

<meta charset="utf-8" >

<title>【折腾记录】Meshtastic 固件修改功率</title>
<meta name="keywords" content="【折腾记录】Meshtastic 固件修改功率, Ben&#39;s Blog">
<meta name="description" content="修改步骤仅供研究学习，请严格遵守相关法律法规限制使用无线电设备

在 Meshtastic 固件 Github 页面 下载最新 Stable 版的 Source Code.zip, 并解压成文件夹。

使用 Visual Studio Co">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="【折腾记录】Meshtastic 固件修改功率">
<meta property="og:description" content="修改步骤仅供研究学习，请严格遵守相关法律法规限制使用无线电设备

在 Meshtastic 固件 Github 页面 下载最新 Stable 版的 Source Code.zip, 并解压成文件夹。

使用 Visual Studio Co">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="stylesheet" href="/style/main.css">

  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <div id="app" class="main">

<div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://benleungrg.github.io">
        <img class="avatar" src="/images/avatar.png" alt="logo" width="32px" height="32px">
      </a>
      <a href="https://benleungrg.github.io">
        <h1 class="site-title">Ben&#39;s Blog</h1>
      </a>
    </div>
    <div class="right">
        <i class="icon menu-switch icon-menu-outline" ></i>
    </div>
  </div>
</div>

<div class="menu-container" style="height: 0;opacity: 0;">
<nav class="menu-list">
  
    
      <a href="/" class="menu purple-link">
        首页
      </a>
    
  
    
      <a href="/tags" class="menu purple-link">
        标签
      </a>
    
  
    
      <a href="/archives" class="menu purple-link">
        归档
      </a>
    
  
    
      <a href="/about" class="menu purple-link">
        关于
      </a>
    
  
</nav>
</div>



  <div class="content-container">
    <div class="post-detail">
      
      <h2 class="post-title">【折腾记录】Meshtastic 固件修改功率</h2>
      <div class="post-info post-detail-info">
        <span><i class="icon icon-calendar-outline"></i> 2025-11-15</span>
        
          <span>
          <i class="icon icon-pricetags-outline"></i>
            
              <a href="/tags/logs/">
              logs
                
              </a>
            
          </span>
        
      </div>
      <div class="post-content-wrapper">
        <div class="post-content">
          <p><strong>修改步骤仅供研究学习，请严格遵守相关法律法规限制使用无线电设备</strong></p>
<ol>
<li><p>在 <a target="_blank" rel="noopener" href="https://github.com/meshtastic/firmware">Meshtastic 固件 Github 页面</a> 下载最新 Stable 版的 Source Code.zip, 并解压成文件夹。</p>
</li>
<li><p>使用 Visual Studio Code 打开解压出的文件夹，<strong>确保已经安装好 PlatformIO 插件</strong>。</p>
</li>
<li><p>定位并打开： <em>\src\mesh\RadioInterface.cpp</em> </p>
</li>
<li><p> 找到行：<em>RDEF(CN, 470.0f, 510.0f, 100, 0, 19, true, false, false)</em>, 其中 CN 意味着中国，19 就是 app 中可以输入最大的功率。</p>
</li>
<li><p>完成后，确认自己想要重新编译输出的版本，以 nrf52 系列为例，定位并打开：<em>variants\diy\platformio.ini</em> 并按照自己需求找到相应的输出版本。</p>
</li>
<li><pre><code class="csharp">; Promicro + E22(0)-xxxMM / RA-01SH modules board variant - DIY - without TCXO
[env:nrf52_promicro_diy_tcxo]
extends = nrf52840_base
board = promicro-nrf52840
board_level = extra
build_flags = ${nrf52840_base.build_flags}
  -I variants/diy/nrf52_promicro_diy_xtal
  -D NRF52_PROMICRO_DIY
build_src_filter = ${nrf52_base.build_src_filter} +&lt;../variants/diy/nrf52_promicro_diy_xtal&gt;
lib_deps = 
  ${nrf52840_base.lib_deps}
debug_tool = jlink
</code></pre>
</li>
<li><p><em>env:</em> 后面的就是版本名：<em>nrf52_promicro_diy_tcxo</em> ，复制好。</p>
</li>
<li><p>Ctrl+Shift+P 打开 PlatformIO: New Terminal</p>
</li>
<li><p>输入命令：<em>platformio run -e nrf52_promicro_diy_tcxo</em> </p>
</li>
<li><p><strong> 此时会开始从 Github 下载依赖包，需要提前配置好科学环境或者修改 Host 文件，否则可能会出现下载失败。</strong></p>
</li>
<li><p>编译完成后可以根据其输出的记录找到你需要的文件，一般在第 1 步你所解压的文件夹中，找到：<em>.pio\build\nrf52_promicro_diy_tcxo</em></p>
</li>
<li><p>打开后找到两个文件：<em>firmware_nrf52_promicro_diy_tcxo.uf2</em>，<em>firmware.zip</em></p>
</li>
<li><p>后缀为 .uf2 的文件是线刷文件，USB 插入 Nrf52 连接电脑，直接把文件丢进去就行了。而 .zip 的压缩包是用于使用 Nrf Connect 这类 App 进行蓝牙远程更新 OTA 用的，按需使用。</p>
</li>
<li><p>Nrf52 刷固件并不会覆写原有的密钥和 App 设置等，可以直接刷，但建议还是保个备份。</p>
</li>
</ol>

        </div>
          
        <div class="top-div">
          
        </div>
          
      </div>
    </div>

    
      <div class="next-post">
        <a class="purple-link" href="/posts/ee2a3d80.html/">
          <h3 class="post-title">
            下一篇：【折腾记录】较低成本打造一套 Meshtastic 太阳能节点要多少钱？
          </h3>
        </a>
      </div>
    
  </div>










<footer>
<div class="site-footer">
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
      
        <a aria-label="跳转至email" href="benleungrg@gmail.com" target="_blank">
          <i class="icon icon-email"></i>
        </a>
      
    
      
    
  </div>
  
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <a href="https://github.com/f-dong/hexo-theme-minimalism" target="_blank">Theme</a>
  
  
  
  
  
  
</div>
</footer>


      </div>
    </div>
    
<script id="hexo-configurations"> window.theme_config = {"image":{"lazyload_enable":true,"photo_zoom":"simple-lightbox"}}; window.is_post = true; </script>

<script src="/js/main.js"></script>






  </body>
</html>

